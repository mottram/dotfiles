# Path to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh
export LANG="en_GB.UTF-8"
export LC_ALL="en_GB.UTF-8"

PATH="$PATH:/usr/local/bin/:$HOME/bin:$HOME/dotfiles/weblog:$HOME/.gem/ruby/1.8/bin:$HOME/.gem/ruby/1.9.1/bin"

# Set to the name theme to load.
# Look in ~/.oh-my-zsh/themes/
export ZSH_THEME="jack"

# Set to this to use case-sensitive completion
# export CASE_SENSITIVE="true"

# Comment this out to disable weekly auto-update checks
#export DISABLE_AUTO_UPDATE="true"

# Uncomment following line if you want to disable colors in ls
export DISABLE_LS_COLORS="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git osx)

source $ZSH/oh-my-zsh.sh

# Customize to your needs...

#source ~/src/mercurial-for-zsh/zshrc ~/src/mercurial-for-zsh 

# Source my aliases and functions
source ~/dotfiles/bash/aliases
source ~/dotfiles/bash/func

# Source profile for autojump
if [ `uname` = "Darwin" ]; then
	source /etc/profile
elif [ `uname` = "Linux" ]; then
	source /etc/profile.d/autojump.zsh
fi

# Open text and markdown files with vim
alias -s markdown=vim
alias -s txt=vim

# Start X at login
if [[ -z "$DISPLAY" ]] && [[ $(tty) = /dev/tty1 ]]; then
  startx
  logout
fi

# pip zsh completion
function _pip_completion {
  local words cword
  read -Ac words
  read -cn cword
  reply=( $( COMP_WORDS="$words[*]" \ 
             COMP_CWORD=$(( cword-1 )) \
             PIP_AUTO_COMPLETE=1 $words[1] ) )
}
compctl -K _pip_completion pip
