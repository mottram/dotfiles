# Some additions to the grml .zshrc, symbolically linked to ~/.zshrc.pre

PATH="$PATH:/usr/local/bin/:$HOME/bin:$HOME/dotfiles/weblog:$HOME/.gem/ruby/1.8/bin:$HOME/.gem/ruby/1.9.1/bin"

# Fixes unknown parameter issue on OS X - why? 
zmodload zsh/terminfo

# Source my bash aliases and functions
source ~/dotfiles/bash/aliases
source ~/dotfiles/bash/func

# Source profile for autojump
if [ `uname` = "Darwin" ]; then
	source /etc/profile
elif [ `uname` = "Linux" ]; then
	source /etc/profile.d/autojump.zsh
fi

# Meta
alias emz='vim ~/dotfiles/zsh/myzshrc'
alias rldz='source ~/.zshrc'

# Open text and markdown files with vim
alias -s markdown=vim
alias -s txt=vim

# Keep crap out of history
export HISTIGNORE="&:ls:[bf]g:exit:reset:clear:cd*"

# Start X at login
if [[ -z "$DISPLAY" ]] && [[ $(tty) = /dev/tty1 ]]; then
  startx
  logout
fi

# Privoxy on the Eee
#if [ `uname` = "Linux" ]; then
#    export http_proxy=127.0.0.1:8118
#fi

# ls on OpenBSD
if [ `uname` = "OpenBSD" ]; then
    alias ls='ls'
fi

if [ `hostname` = "pest" ]; then
    source /usr/lib/surfraw
fi
